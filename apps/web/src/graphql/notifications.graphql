# Note: type parameter should be NotificationType enum, not String
# Note: id parameters should be String!, not ID!
query GetNotifications($unreadOnly: Boolean, $type: NotificationType, $limit: Int, $offset: Int) {
  notifications(unreadOnly: $unreadOnly, type: $type, limit: $limit, offset: $offset) {
    items {
      id
      type
      priority
      title
      message
      link
      readAt
      createdAt
      expiresAt
      metadata
    }
    total
  }
}

query GetNotificationCount {
  notificationCount
}

query GetNotificationPreferences {
  notificationPreferences {
    id
    userId
    enableInApp
    enableEmail
    enableSms
    contractExpiry
    paymentOverdue
    contractApproval
    milestoneDue
    riskAlert
    systemAnnouncement
    mention
    taskAssigned
    documentShared
    quietHoursStart
    quietHoursEnd
  }
}

mutation MarkNotificationRead($id: String!) {
  markNotificationRead(id: $id) {
    id
    readAt
  }
}

mutation MarkAllNotificationsRead {
  markAllNotificationsRead {
    success
  }
}

mutation ArchiveNotification($id: String!) {
  archiveNotification(id: $id) {
    id
  }
}

mutation DeleteNotification($id: String!) {
  deleteNotification(id: $id) {
    success
  }
}

mutation UpdateNotificationPreferences($input: UpdateNotificationPreferencesInput!) {
  updateNotificationPreferences(input: $input) {
    id
    enableInApp
    enableEmail
    enableSms
  }
}
